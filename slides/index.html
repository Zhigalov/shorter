<!doctype html>
<html lang="ru">

<head>
    <meta charset="utf-8">
    <link rel="shortcut icon" href="https://lodash.com/favicon.ico">

    <title>Короче_</title>

    <meta name="description" content="Семантичный код на JavaScript с использованием lodash">
    <meta name="author" content="Сергей Жигалов">

    <link rel="stylesheet" href="css/reveal.css">
    <link rel="stylesheet" href="css/theme/white.css">
    <link rel="stylesheet" href="css/user.css">

	<link rel="stylesheet" href="css/tomorrow.css">
</head>
<body>
<div class="reveal"><div class="slides">

<section>
    <h1>Короче_</h1>
</section>

<section>
    <section>
        <pre class="js"><code data-trim>
_.defaultTo
        </code></pre>
    </section>

    <section>
        <pre class="js"><code data-trim>
function getCost(price, count) {
    if (count === undefined) {
        count = 1;
    }

    return price * count;
}
        </code></pre>
    </section>

    <section>
        <pre class="js"><code data-trim>
function getCost(price, count) {
    count = _.defaultTo(count, 1);

    return price * count;
}
        </code></pre>
    </section>

    <section>
        <h3>eslint</h3>

        <pre class="js"><code data-trim>
_.defaultTo(count, 1);
// complexity 0
        </code></pre>

        <pre class="js fragment"><code data-trim>
count = count || 0;
// complexity 1
        </code></pre>
    </section>
</section>

<section>
    <section>
        <pre class="js"><code data-trim>
_.get
        </code></pre>
    </section>

    <section>
        <pre class="js"><code data-trim>
var data = {
    person: {
        name: 'Mike',
        avatar: {
            url: 'path/to/img'
        }
    }
}
        </code></pre>

        <pre class="js fragment"><code data-trim>
var avatarUrl = data &&
    data.person &&
    data.person.avatar &&
    data.person.avatar.url ||
    'default/path'
        </code></pre>
    </section>

    <section>
        <pre class="js"><code data-trim>
var data = {
    person: {
        name: 'Mike',
        avatar: {
            url: 'path/to/img'
        }
    }
}
        </code></pre>

        <pre class="js fragment"><code data-trim>
var avatarUrl = _.get(data,
    'person.avatar.url',
    'default/path');
        </code></pre>
    </section>

    <section>
        <pre class="js"><code data-trim>
var data = {
    person: {
        name: 'Sergey',
        friends: [
            { name: 'Anna' },
            { name: 'Mike' }
        ]
    }
}
        </code></pre>

        <pre class="js fragment"><code data-trim>
var avatarUrl = _.get(data,
    'person.friends.1.name');
        </code></pre>
    </section>

    <section>
        <pre class="js"><code data-trim>
var data = {
    person: {
        name: 'Sergey',
        friends: [
            { name: 'Anna' },
            { name: 'Mike' }
        ]
    }
}
        </code></pre>

        <pre class="js fragment"><code data-trim>
var bestFriend = 1;
var avatarUrl = _.get(data,
    ['person', 'friends', bestFriend, 'name']);
        </code></pre>
    </section>
</section>

<section>
    <section>
        <pre class="js"><code data-trim>
_.set
        </code></pre>
    </section>

    <section>
        <pre class="js"><code data-trim>
var data = {
    person: {
        name: 'Anna'
    }
}
        </code></pre>

        <pre class="js"><code data-trim>
_.set(data, 'person.avatar.hasImage', false);
        </code></pre>
    </section>
</section>

<section>
    <section>
        <pre class="js"><code data-trim>
_.assign
        </code></pre>
    </section>

    <section>
        <pre class="js"><code data-trim>
var person = {
    name: 'Mike',
    favorite: 'cake'
};
        </code></pre>

        <pre class="js fragment"><code data-trim>
var update = {
    favorite: 'shaurma',
    age: 24
};
        </code></pre>

        <pre class="js fragment"><code data-trim>
{
    name: 'Mike',
    favorite: 'shaurma',
    age: 24
}
        </code></pre>
    </section>

    <section>
        <pre class="js"><code data-trim>
Object
    .keys(update)
    .forEach(function (key) {
        person[key] = update[key];
    });
        </code></pre>
    </section>

    <section>
        <pre class="js"><code data-trim>
_.assign(person, update);
        </code></pre>

        <pre class="js fragment"><code data-trim>
_.assign({}, person, update);
        </code></pre>
    </section>

    <section>
        <pre class="js"><code data-trim>
Object.assign(person, update);
        </code></pre>
    </section>
</section>

<section>
    <section>
        <pre class="js"><code data-trim>
_.merge
        </code></pre>
    </section>

    <section>
        <div class="columns">
        <pre class="js"><code data-trim>
var person = {
    name: 'Mike',
    favorite: {
        dish: 'cake',
        game: {
            name: 'FIFA',
            year: 2016
        }
    }
};
        </code></pre>

        <pre class="js fragment"><code data-trim>
var update = {
    favorite: {
        dish: 'shaurma',
        game: {
            year: 2017
        }
    },
    age: 24
};
        </code></pre>
        </div>
    </section>

    <section>
        <pre class="js"><code data-trim>
{
    name: 'Mike',
    favorite: {
        dish: 'shaurma',
        game: {
            name: 'FIFA',
            year: 2017
        }
    },
    age: 24
}
        </code></pre>
    </section>

    <section>
        <pre class="js"><code data-trim>
_.merge(person, update);
        </code></pre>
    </section>
</section>

<section>
    <section>
        <pre class="js"><code data-trim>
_.pick
        </code></pre>
    </section>

    <section>
        <pre class="js"><code data-trim>
var person = {
    name: 'Mike',
    age: 24,
    favorite: 'cake',
    phone: 'Nexus 5',
    size: 'M'
};
        </code></pre>

        <pre class="js"><code data-trim>
var person = {
    name: 'Mike',
    size: 'M'
};
        </code></pre>
    </section>

    <section>
        <pre class="js"><code data-trim>
['name', 'size']
    .reduce(function (result, key) {
        result[key] = person[key];

        return result;
    }, {})
        </code></pre>
    </section>

    <section>
        <pre class="js"><code data-trim>
_.pick(person, ['name', 'size']);
        </code></pre>
    </section>
</section>

<section>
    <section>
        <pre class="js"><code data-trim>
_.sumBy
        </code></pre>
    </section>

    <section>
        <pre class="js"><code data-trim>
var friends = [
    {
        name: 'Mike',
        unreadMessages: 2
    },
    {
        name: 'Anna',
        unreadMessages: 1
    }
]
        </code></pre>
    </section>

    <section>
        <pre class="js"><code data-trim>
friends
    .reduce(function (sum, friend) {
        return sum + friend.unreadMessages;
    }, 0);
        </code></pre>
    </section>

    <section>
        <pre class="js"><code data-trim>
_.sumBy(friends, 'unreadMessages');
        </code></pre>
    </section>
</section>

<section>
    <section>
        <pre class="js"><code data-trim>
_.forEach
        </code></pre>
    </section>

    <section>
        <pre class="js"><code data-trim>
var friends = [
    { name: 'Mike', hasPS: true },
    { name: 'Anna', hasPS: false },
    { name: 'Ilia', hasPS: true }
];
        </code></pre>
    </section>

    <section>
        <pre class="js"><code data-trim>
var gameTo;

for(var i = 0; i < friends.length; i++) {
    if (friends[i].hasPS) {
        gameTo = friends[i].name;
        break;
    }
}

gameTo; // Mike
        </code></pre>
    </section>

    <section>
        <pre class="js"><code data-trim>
var gameTo;

_.forEach(friends, function (friend) {
    if (friend.hasPS) {
        gameTo = friend.name;
        return false;
    }
});

gameTo; // Mike
        </code></pre>
    </section>

    <section>
        <pre class="js"><code data-trim>
var friends = [
    { name: 'Mike', hasPS: true },
    { name: 'Anna', hasPS: false },
    { name: 'Oleg', hasPS: true },
    { name: 'Ilia', hasPS: true }
];

var colleagues = [
    { name: 'Mike', hasPS: true },
    { name: 'Anna', hasPS: false },
    { name: 'Oleg', hasPS: true },
    { name: 'Den', hasPS: true }
];
        </code></pre>
    </section>

    <section>
        <pre class="js"><code data-trim>
var paty = [];

friends.forEach(function (friend) {
    var isCollegue = colleagues.some(function (collegue) {
        return friend.name === collegue.name;
    });

    if (friend.hasPS && isCollegue) {
        paty.push(friend.name);
    }
});

paty; // ['Mike', 'Oleg']
        </code></pre>
    </section>

    <section>
        <pre class="js"><code data-trim>
_(friends)
    .intersectionBy(colleagues, 'name')
    .filter('hasPS')
    .map('name')
    .value(); // ['Mike', 'Oleg']
        </code></pre>
    </section>


    <section>
        <pre class="js"><code data-trim>
_(friends)
    .intersectionBy(colleagues, 'name')
    .filter('hasPS')
    .map('name')
    .sapleSize(1)
    .value(); // ['Mike']
        </code></pre>
    </section>

    <section>
        <pre class="js"><code data-trim>
var question = 'Какой поэт не писал ' +
    'стихотворение "Пророк"';

var answers = [
    'Пушкин',
    'Некрасов',
    'Лермонтов',
    'Тютчев'
];
        </code></pre>
    </section>

    <section>
        <pre class="js"><code data-trim>
var question = 'Какой поэт не писал ' +
    'стихотворение "Пророк"';

var answers = [
    'Пушкин',
    'Некрасов',
    'Лермонтов',
    'Тютчев'
];
        </code></pre>
    </section>

    <section data-background='images/shuffle.jpg'>
    </section>

    <section>
        <pre class="js"><code data-trim>
var answers = _.shuffle([
    'Пушкин',
    'Некрасов',
    'Лермонтов',
    'Тютчев'
]);
        </code></pre>
    </section>
</section>

<section>
    <section>
        <pre class="js"><code data-trim>
_.isString
        </code></pre>
    </section>

    <section>
        <pre class="js"><code data-trim>
var person = {
    name: 'Mike'
}
        </code></pre>

        <pre class="js fragment"><code data-trim>
typeof person.name === 'string' ||
person.name instanceof String
        </code></pre>

        <pre class="js fragment"><code data-trim>
_.isString(person.name)
        </code></pre>
    </section>

    <section>
        <pre class="js size-XS"><code data-trim>
_.isArguments       _.isArray           _.isArrayBuffer
_.isArrayLike       _.isArrayLikeObject _.isBoolean
_.isBuffer          _.isDate            _.isElement
_.isEmpty           _.isEqual           _.isEqualWith
_.isError           _.isFinite          _.isFunction
_.isInteger         _.isLength          _.isMap
_.isMatch           _.isMatchWith       _.isNaN
_.isNative          _.isNil             _.isNull
_.isNumber          _.isObject          _.isObjectLike
_.isPlainObject     _.isRegExp          _.isSafeInteger
_.isSet             _.isString          _.isSymbol
_.isTypedArray      _.isUndefined       _.isWeakMap
_.isWeakSet
        </code></pre>
    </section>
</section>

<section>
    // TODO: cloneDeep + производительность
</section>

<section>
    // TODO: uniqueId
</section>

<section>
    // TODO: chain thru
</section>


</div></div>

<script src="js/head.min.js"></script>
<script src="js/reveal.js"></script>
<script>
    Reveal.initialize({
        controls: false,
        slideNumber: true,
        history: true,
        dependencies: [
            {
                src: 'js/highlight.js',
                async: true,
                condition: function () {
                    return Boolean(document.querySelector('pre code'));
                },
                callback: function () {
                    hljs.initHighlightingOnLoad();
                }
            }
        ]
    });
</script>

</body>
</html>
